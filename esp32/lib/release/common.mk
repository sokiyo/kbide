ifndef RELEASE_DIR
RELEASE_DIR=lib/release
endif

CFLAGS+=-I$(RELEASE_DIR)/include -I$(RELEASE_DIR)/app_trace/include -I$(RELEASE_DIR)/app_update/include -I$(RELEASE_DIR)/bootloader_support/include -I$(RELEASE_DIR)/bt/include -I$(RELEASE_DIR)/bt/bluedroid/common/include -I$(RELEASE_DIR)/bt/bluedroid/common/include/common -I$(RELEASE_DIR)/bt/bluedroid/api/include/api -I$(RELEASE_DIR)/bt/bluedroid/bta/include/bta -I$(RELEASE_DIR)/bt/bluedroid/stack/include -I$(RELEASE_DIR)/bt/bluedroid/osi/include -I$(RELEASE_DIR)/coap/port/include -I$(RELEASE_DIR)/coap/port/include/coap -I$(RELEASE_DIR)/coap/libcoap/include -I$(RELEASE_DIR)/coap/libcoap/include/coap -I$(RELEASE_DIR)/console -I$(RELEASE_DIR)/driver/include -I$(RELEASE_DIR)/esp32/include -I$(RELEASE_DIR)/esp_adc_cal/include -I$(RELEASE_DIR)/esp_http_client/include -I$(RELEASE_DIR)/esp_https_ota/include -I$(RELEASE_DIR)/esp-tls -I$(RELEASE_DIR)/ethernet/include -I$(RELEASE_DIR)/expat/port/include -I$(RELEASE_DIR)/expat/include/expat -I$(RELEASE_DIR)/fatfs/src -I$(RELEASE_DIR)/freertos/include -I$(RELEASE_DIR)/heap/include -I$(RELEASE_DIR)/idf_test/include -I$(RELEASE_DIR)/jsmn/include -I$(RELEASE_DIR)/json/cJSON -I$(RELEASE_DIR)/kidbright32/include -I$(RELEASE_DIR)/libsodium/libsodium/src/libsodium/include -I$(RELEASE_DIR)/libsodium/port_include -I$(RELEASE_DIR)/log/include -I$(RELEASE_DIR)/lwip/include/lwip -I$(RELEASE_DIR)/lwip/include/lwip/port -I$(RELEASE_DIR)/lwip/include/lwip/posix -I$(RELEASE_DIR)/lwip/apps/ping -I$(RELEASE_DIR)/mbedtls/port/include -I$(RELEASE_DIR)/mbedtls/mbedtls/include -I$(RELEASE_DIR)/mdns/include -I$(RELEASE_DIR)/micro-ecc/micro-ecc -I$(RELEASE_DIR)/newlib/platform_include -I$(RELEASE_DIR)/newlib/include -I$(RELEASE_DIR)/nghttp/port/include -I$(RELEASE_DIR)/nghttp/nghttp2/lib/includes -I$(RELEASE_DIR)/nvs_flash/include -I$(RELEASE_DIR)/openssl/include -I$(RELEASE_DIR)/pthread/include -I$(RELEASE_DIR)/sdmmc/include -I$(RELEASE_DIR)/smartconfig_ack/include -I$(RELEASE_DIR)/soc/esp32/include -I$(RELEASE_DIR)/soc/include -I$(RELEASE_DIR)/spiffs/include -I$(RELEASE_DIR)/spi_flash/include -I$(RELEASE_DIR)/tcpip_adapter/include -I$(RELEASE_DIR)/ulp/include -I$(RELEASE_DIR)/vfs/include -I$(RELEASE_DIR)/wear_levelling/include -I$(RELEASE_DIR)/wpa_supplicant/include -I$(RELEASE_DIR)/wpa_supplicant/port/include -I$(RELEASE_DIR)/xtensa-debug-module/include -I$(RELEASE_DIR)/netpie/include -I$(RELEASE_DIR)/kbstring/include -I$(RELEASE_DIR)/kblist/include -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Array -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Collection -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Deserialization -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Document -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Json -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Memory -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Misc -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/MsgPack -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Numbers -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Object -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Operators -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Polyfills -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Polyfills/gsl -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Polyfills/mpl -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Polyfills/type_traits -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Serialization -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Serialization/Writers -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Strings -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/StringStorage -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/Variant -I$(RELEASE_DIR)/kbnetpie/include/ArduinoJson/wificontroller -I$(RELEASE_DIR)/kbnetpie/include

LDFLAGS+=-L$(RELEASE_DIR)/app_trace -lapp_trace -L$(RELEASE_DIR)/app_update -lapp_update -L$(RELEASE_DIR)/aws_iot -L$(RELEASE_DIR)/bootloader_support -lbootloader_support -L$(RELEASE_DIR)/bt -lbt -L$(RELEASE_DIR)/bt/lib -lbtdm_app -L$(RELEASE_DIR)/coap -lcoap -L$(RELEASE_DIR)/console -lconsole -L$(RELEASE_DIR)/cxx -lcxx -u __cxa_guard_dummy -L$(RELEASE_DIR)/driver -ldriver -L$(RELEASE_DIR)/esp32 -lesp32 $(RELEASE_DIR)/esp32/libhal.a -L$(RELEASE_DIR)/esp32/lib -lcore -lrtc -lnet80211 -lpp -lwpa -lsmartconfig -lcoexist -lwps -lwpa2 -lespnow -lphy -lmesh -L$(RELEASE_DIR)/esp32/ld -T esp32_out.ld -u ld_include_panic_highint_hdl -T esp32.common.ld -T esp32.rom.ld -T esp32.peripherals.ld -T esp32.rom.libgcc.ld -T esp32.rom.spiram_incompatible_fns.ld -L$(RELEASE_DIR)/esp_adc_cal -lesp_adc_cal -L$(RELEASE_DIR)/esp_http_client -lesp_http_client -L$(RELEASE_DIR)/esp_https_ota -lesp_https_ota -L$(RELEASE_DIR)/esp-tls -lesp-tls -L$(RELEASE_DIR)/ethernet -lethernet -L$(RELEASE_DIR)/expat -lexpat -L$(RELEASE_DIR)/fatfs -lfatfs -L$(RELEASE_DIR)/freertos -lfreertos -Wl,--undefined=uxTopUsedPriority -L$(RELEASE_DIR)/heap -lheap -L$(RELEASE_DIR)/idf_test -lidf_test -L$(RELEASE_DIR)/jsmn -ljsmn -L$(RELEASE_DIR)/json -ljson -L$(RELEASE_DIR)/kidbright32 -lkidbright32 -L$(RELEASE_DIR)/libsodium -llibsodium -L$(RELEASE_DIR)/log -llog -L$(RELEASE_DIR)/lwip -llwip -L$(RELEASE_DIR)/main -lmain -L$(RELEASE_DIR)/mbedtls -lmbedtls -L$(RELEASE_DIR)/mdns -lmdns -L$(RELEASE_DIR)/micro-ecc -lmicro-ecc -L$(RELEASE_DIR)/newlib $(RELEASE_DIR)/newlib/lib/libc.a $(RELEASE_DIR)/newlib/lib/libm.a -lnewlib -L$(RELEASE_DIR)/nghttp -lnghttp -L$(RELEASE_DIR)/nvs_flash -lnvs_flash -L$(RELEASE_DIR)/openssl -lopenssl -L$(RELEASE_DIR)/pthread -lpthread -L$(RELEASE_DIR)/sdmmc -lsdmmc -L$(RELEASE_DIR)/smartconfig_ack -lsmartconfig_ack -L$(RELEASE_DIR)/soc -lsoc -L$(RELEASE_DIR)/spiffs -lspiffs -L$(RELEASE_DIR)/spi_flash -lspi_flash -L$(RELEASE_DIR)/tcpip_adapter -ltcpip_adapter -L$(RELEASE_DIR)/ulp -lulp -L$(RELEASE_DIR)/vfs -lvfs -L$(RELEASE_DIR)/wear_levelling -lwear_levelling -L$(RELEASE_DIR)/wpa_supplicant -lwpa_supplicant -L$(RELEASE_DIR)/xtensa-debug-module -lxtensa-debug-module -L$(RELEASE_DIR)/netpie -lnetpie -L$(RELEASE_DIR)/kbstring -lkbstring -L$(RELEASE_DIR)/kblist -lkblist  -L$(RELEASE_DIR)/kbnetpie -lkbnetpie
